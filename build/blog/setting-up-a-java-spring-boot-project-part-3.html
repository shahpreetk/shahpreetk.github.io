<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Java Spring Boot Project - Part 3 | Preet Shah</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://shahpreetk.com/img/preet-social-card.png?v=3"><meta data-rh="true" name="twitter:image" content="https://shahpreetk.com/img/preet-social-card.png?v=3"><meta data-rh="true" property="og:url" content="https://shahpreetk.com/blog/setting-up-a-java-spring-boot-project-part-3"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Java Spring Boot Project - Part 3 | Preet Shah"><meta data-rh="true" name="description" content="In this blog post, we will write unit tests for the CRUD operations using JUnit and Mockito. We will also create API documentation using [Swagger](https://swagger.io/) and update our codebase with exception handling."><meta data-rh="true" property="og:description" content="In this blog post, we will write unit tests for the CRUD operations using JUnit and Mockito. We will also create API documentation using [Swagger](https://swagger.io/) and update our codebase with exception handling."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-06-11T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/shahpreetk"><meta data-rh="true" property="article:tag" content="java,springboot,intellij,exception-handling,custom-errors,swagger,api-documentation,unit-testing,junit"><link data-rh="true" rel="icon" href="/img/favicon.ico?v=3"><link data-rh="true" rel="canonical" href="https://shahpreetk.com/blog/setting-up-a-java-spring-boot-project-part-3"><link data-rh="true" rel="alternate" href="https://shahpreetk.com/blog/setting-up-a-java-spring-boot-project-part-3" hreflang="en"><link data-rh="true" rel="alternate" href="https://shahpreetk.com/blog/setting-up-a-java-spring-boot-project-part-3" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://shahpreetk.com/blog/setting-up-a-java-spring-boot-project-part-3","mainEntityOfPage":"https://shahpreetk.com/blog/setting-up-a-java-spring-boot-project-part-3","url":"https://shahpreetk.com/blog/setting-up-a-java-spring-boot-project-part-3","headline":"Java Spring Boot Project - Part 3","name":"Java Spring Boot Project - Part 3","description":"In this blog post, we will write unit tests for the CRUD operations using JUnit and Mockito. We will also create API documentation using [Swagger](https://swagger.io/) and update our codebase with exception handling.","datePublished":"2024-06-11T00:00:00.000Z","author":{"@type":"Person","name":"Preet Shah","description":"Software Developer @ JPMC","url":"https://github.com/shahpreetk","image":"https://github.com/shahpreetk.png\\"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://shahpreetk.com/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Preet Shah RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Preet Shah Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EZYBN7167D"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EZYBN7167D",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-TMCWBXF2",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.2dbd9756.css">
<script src="/assets/js/runtime~main.5f51fbb3.js" defer="defer"></script>
<script src="/assets/js/main.febb4539.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TMCWBXF2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Preet Shah Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Preet Shah Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Preet Shah</b></a><a class="navbar__item navbar__link" href="/portfolio/about-me">About Me</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blogs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/shahpreetk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Latest Posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/git-tips-and-tricks">Git Tips and Tricks</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/setting-up-a-java-spring-boot-project-part-3">Java Spring Boot Project - Part 3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/setting-up-a-java-spring-boot-project-part-2">Java Spring Boot Project - Part 2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/setting-up-a-java-spring-boot-project-part-1">Java Spring Boot Project - Part 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/multithreading-in-java">Multithreading in Java</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/garbage-collector-in-java">Garbage Collector in Java</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/access-modifiers-in-java">Access Modifiers in Java</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/data-types-in-java">Data Types in Java</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/java-interview-guide">Java Deep Dive</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/android-development-in-2024">Android Development in 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/disable-cors-policy-in-chrome">Disable CORS policy in Chrome</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/deploying-a-nodejs-project-to-linode">Deploying a Node.js project to Linode</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2022</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/deploying-a-nodejs-project-to-heroku">Deploying a Node.js project to heroku</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/creating-black-overlay-on-image-in-css">Creating a Black Overlay on image in CSS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/starting-a-mongodb-local-connection-macos">Starting a MongoDB local connection in macOS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/shortcut-to-open-folder-in-vscode-from-cmd">Shortcut to Open folder in VSCode from cmd</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/child-table-data-in-strapi-api">Child Table Data in Strapi API</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/reverting-commits-and-local-changes-in-git">Reverting Commits &amp; Local Changes in Git</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/adding-image-in-reactjs">Adding Images in React.js</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/deploying-a-react-app-to-github-pages">Deploying a React app to GitHub Pages</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/deploying-a-react-app-to-netlify">Deploying a React App to Netlify</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/deploying-a-react-app-to-surge-sh">Deploying a React App to Surge.sh</a></li></ul></div></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">Java Spring Boot Project - Part 3</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-06-11T00:00:00.000Z">June 11, 2024</time> · <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/blog/authors/shahpreetk"><img class="avatar__photo authorImage_XqGP" src="https://github.com/shahpreetk.png\" alt="Preet Shah"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/blog/authors/shahpreetk"><span class="authorName_yefp">Preet Shah</span></a></div><small class="authorTitle_nd0D" title="Software Developer @ JPMC">Software Developer @ JPMC</small><div class="authorSocials_rSDt"><a href="https://x.com/shahpreetk" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="X"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 1200 1227" class="authorSocialLink_owbf xSvg_y3PF" style="--dark:#000;--light:#fff"><path d="M714.163 519.284 1160.89 0h-105.86L667.137 450.887 357.328 0H0l468.492 681.821L0 1226.37h105.866l409.625-476.152 327.181 476.152H1200L714.137 519.284h.026ZM569.165 687.828l-47.468-67.894-377.686-540.24h162.604l304.797 435.991 47.468 67.894 396.2 566.721H892.476L569.165 687.854v-.026Z"></path></svg></a><a href="https://www.linkedin.com/in/shahpreetk/" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="LinkedIn"><svg width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256" class="authorSocialLink_owbf"><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill="#0A66C2"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>In the previous blog post, we used Lombok to reduce boilerplate code and added CRUD operations to our Spring Boot project. In this blog post, we will write unit tests for the CRUD operations using JUnit and Mockito. We will also create API documentation using <a href="https://swagger.io/" target="_blank" rel="noopener noreferrer">Swagger</a> and update our codebase with exception handling.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-exception-handling">Custom Exception Handling<a href="#custom-exception-handling" class="hash-link" aria-label="Direct link to Custom Exception Handling" title="Direct link to Custom Exception Handling">​</a></h2>
<p>Custom exception handling is invaluable as it allows us to define and throw exceptions specific to our application&#x27;s needs. By creating custom exceptions, we can handle specific conditions and scenarios more effectively. This not only makes our codebase cleaner and more maintainable but also simplifies debugging by providing clear, meaningful error messages. Additionally, custom exceptions enhance the user experience by offering precise and understandable feedback when errors occur.</p>
<p>We will create a custom exception class named <code>BookNotFoundException</code> that extends the <code>RuntimeException</code> class. This exception will be unchecked, meaning it occurs at runtime. It will be thrown when a user searches for or attempts to update a book that is not found in the database.</p>
<table><thead><tr><th><img decoding="async" loading="lazy" alt="BookNotFoundException Class" src="/assets/images/book-not-found-exception-b4789ba49cd80d2152e5ac800bfa2d21.png" width="1738" height="536" class="img_ev3q"></th></tr></thead></table>
<p>Update the <code>updateBook(int id, Book updatedBook)</code> method in the <code>BookService</code> class to throw a <code>BookNotFoundException</code> if the book is not found in the database.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public Book updateBook(int id, Book updatedBook) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      if (updatedBook.getId() != id) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          throw new RuntimeException(&quot;The ID in the request body does not match the ID in the URL.&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Optional&lt;Book&gt; optionalBook = bookLibraryRepository.findById(id);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      if (optionalBook.isPresent()) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          Book existingBook = optionalBook.get();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          existingBook.setName(updatedBook.getName());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          existingBook.setAuthor(updatedBook.getAuthor());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          existingBook.setDescription(updatedBook.getDescription());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          return bookLibraryRepository.save(existingBook);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          throw new BookNotFoundException(id);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If we run the application and attempt to update a book that does not exist in the database, a <code>BookNotFoundException</code> will be thrown, displaying a message in the console logs indicating that the book was not found. However, the response displayed in Hoppscotch.io will still be unclear and generic.</p>
<p>To provide a more user-friendly message in the response body, we need to create a custom error response class. This class will contain the error message and status code that will be returned to the user when an exception occurs.</p>
<p>Create a new class named <code>CustomExceptionHandler</code>. This class will be annotated with <code>@ControllerAdvice</code> and will contain methods to handle specific exceptions. In this case, we will create a method to handle the <code>BookNotFoundException</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><code>@ControllerAdvice</code> in Spring is an annotation used to handle exceptions globally across all controllers. It allows you to define common exception handling logic in one place, ensuring consistent error responses throughout your application. Additionally, you can use it to add global attributes and configure data binding for all controllers, making your code cleaner and easier to maintain.</p></div></div>
<table><thead><tr><th><img decoding="async" loading="lazy" alt="CustomExceptionHandler Class" src="/assets/images/custom-exception-handler-480d7351d4c12d55178f773d551cd529.png" width="1844" height="1590" class="img_ev3q"></th></tr></thead></table>
<p>Re-run the application and attempt to update a book that does not exist in the database. The response will now include a custom error message indicating that the book was not found.</p>
<table><thead><tr><th><img decoding="async" loading="lazy" alt="Hoppscotch.io BookNotFound error" src="/assets/images/hoppscotch-book-not-found-176cc12c774a4f196e48630b42db574e.png" width="2146" height="1166" class="img_ev3q"></th></tr></thead></table>
<p>Similarly, you can create custom exception classes and handlers for other scenarios in your application. For example, I have implemented a service and controller method to GET a book by its ID and used the <code>BookNotFoundException</code> to handle cases where the book is not found in the database. You can check the Service class on my <a href="https://github.com/shahpreetk/java-spring-boot-book-library/blob/main/src/main/java/com/shahpreetk/javaSpringBootBookLibrary/service/BookLibraryService.java" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-documentation-with-swagger">API Documentation with Swagger<a href="#api-documentation-with-swagger" class="hash-link" aria-label="Direct link to API Documentation with Swagger" title="Direct link to API Documentation with Swagger">​</a></h2>
<p>API documentation is essential for developers using your API. It provides detailed information about the endpoints, request and response formats, error codes, and other relevant details. By creating API documentation, you make it easier for developers to understand and interact with your API, reducing the learning curve and enabling faster integration.</p>
<p><a href="https://swagger.io/" target="_blank" rel="noopener noreferrer">Swagger</a> is a popular tool for generating API documentation. It allows you to define your API using the OpenAPI Specification (formerly known as Swagger Specification) and automatically generates interactive documentation based on your API definition. Swagger provides a user-friendly interface that displays all your endpoints, request and response formats, and other details in an organized and visually appealing manner.</p>
<p>To generate the Swagger documentation for our Spring Boot project, we will use the <code>springdoc-openapi</code> library. This library integrates Swagger with Spring Boot v3, allowing you to create API documentation easily and efficiently. Add the following code to the <code>build.gradle</code> file.</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  implementation &#x27;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.5.0&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Run the application and navigate to <a href="http://localhost:8080/v3/api-docs" target="_blank" rel="noopener noreferrer">http://localhost:8080/v3/api-docs</a> to view the generated OpenAPI JSON documentation.</p>
<table><thead><tr><th><img decoding="async" loading="lazy" alt="OpenAPI JSON documentation" src="/assets/images/open-api-json-docs-a55c3e846ee9cfb15f2b6ca85bc2e950.png" width="1826" height="1716" class="img_ev3q"></th></tr></thead></table>
<p>You can now navigate to <a href="http://localhost:8080/swagger-ui.html" target="_blank" rel="noopener noreferrer">http://localhost:8080/swagger-ui.html</a> to view the Swagger UI interface, which offers an interactive documentation view of your API. The springdoc-openapi library includes Swagger UI out-of-the-box, so no additional setup is required. Currently, since we haven&#x27;t added any custom annotations or descriptions to our endpoints, Swagger UI will display the default information based on the request and response objects. To enhance the documentation, you can add custom annotations and descriptions to your controllers and endpoints. You can check the Swagger code on my <a href="https://github.com/shahpreetk/java-spring-boot-book-library/blob/main/src/main/java/com/shahpreetk/javaSpringBootBookLibrary/documentation/OpenAPIConfiguration.java" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p>
<table><thead><tr><th><img decoding="async" loading="lazy" alt="Swagger UI interface" src="/assets/images/swagger-interface-a56c6099393509d98ebca814f45fc71d.png" width="2876" height="1794" class="img_ev3q"></th></tr></thead></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="unit-testing-with-junit-and-mockito">Unit Testing with JUnit and Mockito<a href="#unit-testing-with-junit-and-mockito" class="hash-link" aria-label="Direct link to Unit Testing with JUnit and Mockito" title="Direct link to Unit Testing with JUnit and Mockito">​</a></h2>
<p>Unit testing is a critical aspect of software development. It allows you to test individual units or components of your codebase in isolation, ensuring that each unit functions correctly and meets the specified requirements. By writing unit tests, you can identify bugs and issues early in the development process, improve code quality, and increase the reliability and maintainability of your application.</p>
<p>We will use <a href="https://site.mockito.org/" target="_blank" rel="noopener noreferrer">Mockito</a> to mock dependencies and <a href="https://junit.org/junit5/" target="_blank" rel="noopener noreferrer">JUnit</a> to write test cases for our service and controller classes. Mockito is a popular mocking framework that allows you to create mock objects for dependencies, enabling you to test your code in isolation. JUnit is a widely used testing framework for Java that provides annotations and assertions to write test cases and validate the behavior of your code.</p>
<p>For the Controller class, we will write test cases using <code>MockMvc</code> to test the CRUD operations. MockMvc is a Spring testing framework that allows you to test Spring MVC controllers without starting a full HTTP server. It provides a fluent API for making requests and validating responses, making it easy to write comprehensive tests for your controllers.</p>
<p>Create a <code>BookLibraryControllerTest</code> class in the <code>src/test/java/com/example/booklibrary/controller</code> package.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">package com.shahpreetk.javaSpringBootBookLibrary.controller;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.shahpreetk.javaSpringBootBookLibrary.Book;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.shahpreetk.javaSpringBootBookLibrary.exceptions.BookNotFoundException;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.shahpreetk.javaSpringBootBookLibrary.exceptions.CustomExceptionHandler;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.shahpreetk.javaSpringBootBookLibrary.service.BookLibraryService;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.junit.jupiter.api.BeforeEach;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.junit.jupiter.api.Test;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.mockito.InjectMocks;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.mockito.Mock;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.mockito.MockitoAnnotations;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.http.MediaType;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.test.web.servlet.MockMvc;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.test.web.servlet.setup.MockMvcBuilders;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.List;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.hamcrest.Matchers.hasSize;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.mockito.ArgumentMatchers.any;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.mockito.ArgumentMatchers.anyInt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.mockito.Mockito.when;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public class BookLibraryControllerTest {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    private MockMvc mockMvc;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @Mock</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    private BookLibraryService bookLibraryService;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @InjectMocks</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    private BookLibraryController bookLibraryController;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @BeforeEach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public void setUp() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        MockitoAnnotations.openMocks(this);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        mockMvc = MockMvcBuilders.standaloneSetup(bookLibraryController)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .setControllerAdvice(new CustomExceptionHandler())</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .build();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    private Book createBook(int id, String name, String author, String description) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Book book = new Book();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        book.setId(id);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        book.setName(name);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        book.setAuthor(author);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        book.setDescription(description);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return book;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @Test</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public void testGetAllBooks() throws Exception {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Book book1 = createBook(1, &quot;Book1&quot;, &quot;Author1&quot;, &quot;Description1&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Book book2 = createBook(2, &quot;Book2&quot;, &quot;Author2&quot;, &quot;Description2&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        List&lt;Book&gt; books = List.of(book1, book2);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        when(bookLibraryService.getAllBooks()).thenReturn(books);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        mockMvc.perform(get(&quot;/api/books&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(status().isOk())</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(jsonPath(&quot;$&quot;, hasSize(2)))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(jsonPath(&quot;$[0].id&quot;).value(1))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(jsonPath(&quot;$[0].name&quot;).value(&quot;Book1&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(jsonPath(&quot;$[0].author&quot;).value(&quot;Author1&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(jsonPath(&quot;$[0].description&quot;).value(&quot;Description1&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(jsonPath(&quot;$[1].id&quot;).value(2))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(jsonPath(&quot;$[1].name&quot;).value(&quot;Book2&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(jsonPath(&quot;$[1].author&quot;).value(&quot;Author2&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .andExpect(jsonPath(&quot;$[1].description&quot;).value(&quot;Description2&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the <code>BookLibraryControllerTest</code> class, we have created a test case for the <code>getAllBooks()</code> method in the <code>BookLibraryController</code> class. We have mocked the <code>BookLibraryService</code> dependency using Mockito and defined the behavior of the <code>getAllBooks()</code> method to return a list of books. We then use MockMvc to perform a GET request to the <code>/api/books</code> endpoint and validate the response using assertions.</p>
<p>You can write similar test cases for other controller methods and service classes to ensure that your code functions correctly and handles various scenarios effectively. You can find more tests for the Controller on my <a href="https://github.com/shahpreetk/java-spring-boot-book-library/blob/main/src/test/java/com/shahpreetk/javaSpringBootBookLibrary/controller/BookLibraryControllerTest.java" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">package com.shahpreetk.javaSpringBootBookLibrary.service;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.shahpreetk.javaSpringBootBookLibrary.Book;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.shahpreetk.javaSpringBootBookLibrary.BookLibraryRepository;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.shahpreetk.javaSpringBootBookLibrary.exceptions.BookNotFoundException;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.junit.jupiter.api.BeforeEach;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.junit.jupiter.api.Test;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.mockito.InjectMocks;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.mockito.Mock;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.mockito.MockitoAnnotations;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.List;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.Optional;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.junit.jupiter.api.Assertions.assertEquals;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.junit.jupiter.api.Assertions.assertThrows;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.mockito.ArgumentMatchers.any;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static org.mockito.Mockito.when;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public class BookLibraryServiceTest {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @Mock</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    private BookLibraryRepository bookLibraryRepository;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @InjectMocks</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    private BookLibraryService bookLibraryService;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @BeforeEach</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public void setUp() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        MockitoAnnotations.openMocks(this);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    private Book createBook(int id, String name, String author, String description) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Book book = new Book();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        book.setId(id);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        book.setName(name);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        book.setAuthor(author);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        book.setDescription(description);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return book;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @Test</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public void testGetAllBooks() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Book book1 = createBook(1, &quot;Book1&quot;, &quot;Author1&quot;, &quot;Description1&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Book book2 = createBook(2, &quot;Book2&quot;, &quot;Author2&quot;, &quot;Description2&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        when(bookLibraryRepository.findAll()).thenReturn(java.util.List.of(book1, book2));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        List&lt;Book&gt; result = bookLibraryService.getAllBooks();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEquals(2, result.size());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEquals(&quot;Book1&quot;, result.getFirst().getName());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEquals(&quot;Author1&quot;, result.get(0).getAuthor());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEquals(&quot;Description1&quot;, result.get(0).getDescription());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEquals(&quot;Book2&quot;, result.get(1).getName());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEquals(&quot;Author2&quot;, result.get(1).getAuthor());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assertEquals(&quot;Description2&quot;, result.get(1).getDescription());</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>@Mock</code> annotation is used to create and initialize mock instances of the fields it is applied to. When a field is annotated with <code>@Mock</code>, Mockito will create a mock implementation of that field which can then be used in your tests to simulate the behavior of the actual dependency. This allows you to define how the mock should behave when certain methods are called, without actually invoking the real methods. It&#x27;s particularly useful for isolating the class under test from its dependencies.</p>
<p><code>@InjectMocks</code> annotation is used to create an instance of the class under test and inject the mock dependencies into it. When a class field is annotated with <code>@InjectMocks</code>, Mockito will automatically inject the mocks created with <code>@Mock (or @Spy)</code> into this instance. This simplifies the setup process by automatically performing dependency injection, ensuring that the class under test is properly initialized with all its dependencies mocked. This allows you to focus on testing the behavior of the class without worrying about the initialization of its dependencies.</p>
<p><code>MockitoAnnotations.openMocks(this)</code> is a method used in Mockito to initialize the mocks and inject them into the annotated fields of the test class. This method is typically used in the <code>@BeforeEach</code> setup method to ensure that the mocks are properly set up before each test case runs.</p>
<p>You can write similar test cases for other service methods to ensure that your code functions correctly and handles various scenarios effectively. You can find the entire test suite on my <a href="https://github.com/shahpreetk/java-spring-boot-book-library/tree/main/src/test/java/com/shahpreetk/javaSpringBootBookLibrary" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p>
<p>This is how you can write unit tests for your Spring Boot application using JUnit and Mockito, create API documentation using Swagger, and update your codebase with custom exception handling. By following these best practices, you can improve the quality, reliability, and maintainability of your codebase, making it easier to develop, test, and deploy your applications.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="things-you-can-learn-next-intermediate-to-advanced">Things You Can Learn Next (Intermediate to Advanced)<a href="#things-you-can-learn-next-intermediate-to-advanced" class="hash-link" aria-label="Direct link to Things You Can Learn Next (Intermediate to Advanced)" title="Direct link to Things You Can Learn Next (Intermediate to Advanced)">​</a></h2>
<p>As you continue to develop your Book Library application, here are some advanced topics you can explore to enhance its functionality and performance:</p>
<ul>
<li><strong>Add Actuator Endpoints:</strong> Expose health and metrics endpoints to monitor and manage your application more effectively.</li>
<li><strong>Creating Docker Setup:</strong> Containerize your Book Library app for easier deployment and scalability using Docker.</li>
<li><strong>Deploying to a Cloud Platform:</strong> Learn how to deploy your Spring Boot application to cloud platforms like AWS, Azure, or Google Cloud.</li>
<li><strong>Implementing Logging:</strong> Enhance your application with effective logging strategies to monitor and debug more efficiently.</li>
<li><strong>Add Authentication and Authorization:</strong> Protect your endpoints and enhance API security by implementing authentication and authorization mechanisms.</li>
<li><strong>Add Features like Pagination, Sorting, and Rate Limiting:</strong> Improve your API by adding advanced features such as pagination, sorting, and rate limiting.</li>
<li><strong>Implement Caching:</strong> Boost performance by implementing caching strategies to reduce load times and database queries.</li>
<li><strong>Add Internationalization (i18n):</strong> Make your application accessible to a global audience by adding support for multiple languages.</li>
</ul>
<p>These topics will help you take your Book Library application to the next level, ensuring it is robust, secure, and scalable.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>In this three-part blog series, we explored building a Book Library application with Java Spring Boot. We started with project setup and dependencies, then used Lombok for simplifying entity classes and implemented CRUD operations. Finally, we covered unit testing and custom exception handling, emphasizing their importance for robust application development. By following these steps, you’ve created a scalable and maintainable Spring Boot application.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>For the complete codebase, visit my <a href="https://github.com/shahpreetk/java-spring-boot-book-library" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p></div></div>
<p>Happy coding! 🚀</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/java">java</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/springboot">springboot</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/intellij">intellij</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/exception-handling">exception-handling</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/custom-errors">custom-errors</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/swagger">swagger</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/api-documentation">api-documentation</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/unit-testing">unit-testing</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/junit">junit</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/git-tips-and-tricks"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Git Tips and Tricks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/setting-up-a-java-spring-boot-project-part-2"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Java Spring Boot Project - Part 2</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#custom-exception-handling" class="table-of-contents__link toc-highlight">Custom Exception Handling</a></li><li><a href="#api-documentation-with-swagger" class="table-of-contents__link toc-highlight">API Documentation with Swagger</a></li><li><a href="#unit-testing-with-junit-and-mockito" class="table-of-contents__link toc-highlight">Unit Testing with JUnit and Mockito</a></li><li><a href="#things-you-can-learn-next-intermediate-to-advanced" class="table-of-contents__link toc-highlight">Things You Can Learn Next (Intermediate to Advanced)</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div></div>
</body>
</html>